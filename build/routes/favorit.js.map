{"version":3,"sources":["../../src/routes/favorit.js"],"names":["router","get","req","res","context","models","Favorit","findAll","favoriten","favoritenIds","forEach","favorit","push","REZ01REZEPTId","Rezept","findRezepte","rezepte","favoritenView","i","length","favoritId","id","rezept","send","post","body","create","rezeptId","newRezept"],"mappings":";;;;;;;AAAA;;;;;;AAEA,IAAMA,MAAM,GAAG,sBAAf;AAEAA,MAAM,CAACC,GAAP,CAAW,GAAX;AAAA,qEAAgB,iBAAOC,GAAP,EAAYC,GAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBACUD,GAAG,CAACE,OAAJ,CAAYC,MAAZ,CAAmBC,OAAnB,CAA2BC,OAA3B,EADV;;AAAA;AACRC,YAAAA,SADQ;AAERC,YAAAA,YAFQ,GAEO,EAFP;AAIdD,YAAAA,SAAS,CAACE,OAAV,CACE,UAACC,OAAD,EAAa;AACXF,cAAAA,YAAY,CAACG,IAAb,CAAkBD,OAAO,CAACE,aAA1B;AACD,aAHH;AAJc;AAAA,mBAUQX,GAAG,CAACE,OAAJ,CAAYC,MAAZ,CAAmBS,MAAnB,CAA0BC,WAA1B,CAAsCN,YAAtC,CAVR;;AAAA;AAURO,YAAAA,OAVQ;AAYRC,YAAAA,aAZQ,GAYQ,EAZR;;AAcd,iBAAQC,CAAR,GAAY,CAAZ,EAAeA,CAAC,GAAGF,OAAO,CAACG,MAA3B,EAAmCD,CAAC,EAApC,EAAwC;AACtCD,cAAAA,aAAa,CAACL,IAAd,CAAmB;AACjBQ,gBAAAA,SAAS,EAAEZ,SAAS,CAACU,CAAD,CAAT,CAAaG,EADP;AAEjBC,gBAAAA,MAAM,EAAEN,OAAO,CAACE,CAAD;AAFE,eAAnB;AAGD;;AAlBa,6CAmBPf,GAAG,CAACoB,IAAJ,CAASN,aAAT,CAnBO;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAhB;;AAAA;AAAA;AAAA;AAAA;AAsBAjB,MAAM,CAACC,GAAP,CAAW,QAAX;AAAA,sEAAqB,kBAAOC,GAAP,EAAYC,GAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBACKD,GAAG,CAACE,OAAJ,CAAYC,MAAZ,CAAmBC,OAAnB,CAA2BC,OAA3B,EADL;;AAAA;AACbC,YAAAA,SADa;AAAA,8CAEZL,GAAG,CAACoB,IAAJ,CAASf,SAAT,CAFY;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAArB;;AAAA;AAAA;AAAA;AAAA;AAKAR,MAAM,CAACwB,IAAP,CAAY,GAAZ;AAAA,sEAAiB,kBAAOtB,GAAP,EAAYC,GAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBACOD,GAAG,CAACuB,IADX;;AAAA;AACTd,YAAAA,OADS;AAAA;AAAA,mBAGST,GAAG,CAACE,OAAJ,CAAYC,MAAZ,CAAmBC,OAAnB,CAA2BoB,MAA3B,CACtB;AACEb,cAAAA,aAAa,EAAEF,OAAO,CAACgB;AADzB,aADsB,CAHT;;AAAA;AAGTC,YAAAA,SAHS;AAAA,8CASRzB,GAAG,CAACoB,IAAJ,CAASZ,OAAT,CATQ;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAjB;;AAAA;AAAA;AAAA;AAAA;eAYeX,M","sourcesContent":["import { Router } from 'express';\n\nconst router = Router();\n\nrouter.get('/', async (req, res) => {\n  const favoriten = await req.context.models.Favorit.findAll();\n  const favoritenIds = [];\n\n  favoriten.forEach(\n    (favorit) => {\n      favoritenIds.push(favorit.REZ01REZEPTId);\n    }\n  )\n\n  const rezepte = await req.context.models.Rezept.findRezepte(favoritenIds);\n\n  const favoritenView = [];\n\n  for(let i = 0; i < rezepte.length; i++) {\n    favoritenView.push({\n      favoritId: favoriten[i].id, \n      rezept: rezepte[i]});\n  }\n  return res.send(favoritenView);\n});\n\nrouter.get('/debug', async (req, res) => {\n  const favoriten = await req.context.models.Favorit.findAll();\n  return res.send(favoriten);\n});\n\nrouter.post('/', async (req, res) => {\n  const favorit = await req.body;\n\n  const newRezept = await req.context.models.Favorit.create(\n    {\n      REZ01REZEPTId: favorit.rezeptId\n    }\n  );\n\n  return res.send(favorit);\n});\n\nexport default router;"],"file":"favorit.js"}